å¥½ï¼Œè¿™é‡Œæˆ‘**ç›´æ¥ç»™ä½ ä¸€ç‰ˆã€Œå¯è½åœ°ã€å¯ç»™å·¥ç¨‹/æ³•åŠ¡/æ•°æ®ä¸€èµ·çœ‹çš„ PRDã€**ï¼Œæ˜¯åŸºäºä½ å‰é¢å·²ç»å®Œæˆçš„è°ƒç ”ç»“è®ºï¼Œå¹¶ä¸”**ä¸¥æ ¼å†…å»º"äº‹å®æ­£ç¡®æ€§ä¸ä¸å¯ç°æŸ¥"çš„çº¦æŸ**ã€‚
è¿™ç‰ˆä¸æ˜¯æ¦‚å¿µ PRDï¼Œè€Œæ˜¯**"åšäº†å°±ä¸ä¼šç¿»è½¦"çš„é‚£ç§**ã€‚

---

# PRDï½œæ•°å­—æ¸¸æ°‘å›½å®¶æ¨èç½‘é¡µ

## 1. èƒŒæ™¯ä¸é—®é¢˜å®šä¹‰

éšç€è¶Šæ¥è¶Šå¤š IT ä»ä¸šè€…ï¼ˆè¿œç¨‹å·¥ç¨‹å¸ˆã€äº§å“ã€æ•°æ®ã€è®¾è®¡ç­‰ï¼‰å…³æ³¨æ•°å­—æ¸¸æ°‘ç­¾è¯ï¼Œä¸åŒå›½å®¶åœ¨**æ”¶å…¥é—¨æ§›ã€ç­¾è¯æœŸé™ã€ç¨åŠ¡è§„åˆ™ã€å®¶åº­æ”¿ç­–ã€é•¿æœŸå±…ç•™å¯èƒ½æ€§**ç­‰æ–¹é¢å·®å¼‚æå¤§ã€‚

**ç”¨æˆ·çœŸå®ç—›ç‚¹å¹¶ä¸æ˜¯"ä¿¡æ¯å°‘"**ï¼Œè€Œæ˜¯ï¼š

* ä¿¡æ¯åˆ†æ•£ã€è¿‡æ—¶ã€äº’ç›¸çŸ›ç›¾
* å¾ˆå¤šå†…å®¹æ¥è‡ªä¸­ä»‹/äºŒæ‰‹è§£è¯»ï¼Œ**çœŸå®æ€§ä¸å¯éªŒè¯**
* æ— æ³•ç»“åˆè‡ªèº«æ¡ä»¶åˆ¤æ–­"æˆ‘é€‚ä¸é€‚åˆ"

---

## 2. äº§å“ç›®æ ‡

åšä¸€ä¸ªç½‘é¡µå·¥å…·ï¼Œé€šè¿‡ç»“æ„åŒ–é—®ç­”ï¼Œ**åœ¨ä¸å¼•å…¥äº‹å®é”™è¯¯çš„å‰æä¸‹**ï¼Œä¸ºç”¨æˆ·æ¨èæ›´é€‚åˆçš„æ•°å­—æ¸¸æ°‘å›½å®¶ã€‚

### æ ¸å¿ƒç›®æ ‡

* âœ… å¸®ç”¨æˆ·**ç¼©å°é€‰æ‹©èŒƒå›´**
* âœ… æ‰€æœ‰æ”¿ç­–ç»“è®º**å¯è¿½æº¯æ¥æº**
* âœ… æ¨èé€»è¾‘æ¸…æ™°ã€å¯è§£é‡Š
* âŒ ä¸æ‰¿è¯ºè·ç­¾ã€ä¸æ›¿ä»£æ³•å¾‹/ç¨åŠ¡æ„è§

---

## 3. æ ¸å¿ƒåŸåˆ™ï¼ˆå¿…é¡»éµå®ˆï¼‰

### 3.1 äº‹å®ä¸æ¨èåˆ†ç¦»ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰

**ç³»ç»Ÿä¸­åªå­˜åœ¨ä¸¤ç±»ä¿¡æ¯ï¼š**

| ç±»å‹   | æ¥æº        | æ˜¯å¦å…è®¸æ¨ç† |
| ---- | --------- | ------ |
| æ”¿ç­–äº‹å® | æœ¬åœ°æ”¿ç­–æ•°æ®é›†   | âŒ ä¸å…è®¸  |
| åŒ¹é…ç»“è®º | ç”¨æˆ·å›ç­” + è§„åˆ™ | âœ… å…è®¸   |

> ğŸ‘‰ è¿è¡Œæ—¶ **ç¦æ­¢å®æ—¶æŸ¥è¯¢å¤–éƒ¨ç½‘ç«™**
> ğŸ‘‰ è¿è¡Œæ—¶ **ç¦æ­¢æ¨¡å‹ç”Ÿæˆå…·ä½“æ”¿ç­–æ•°å€¼**

---

### 3.2 æ‰€æœ‰äº‹å®å¿…é¡»"å¯å®¡è®¡"

ä»»ä½•åœ¨é¡µé¢å‡ºç°çš„æ”¿ç­–ä¿¡æ¯ï¼Œå¿…é¡»æ»¡è¶³ï¼š

* æœ‰ç»“æ„åŒ–å­—æ®µ
* æœ‰æ˜ç¡®æ¥æºï¼ˆå®˜æ–¹/æƒå¨ï¼‰
* æœ‰æ ¡éªŒæ—¶é—´
* æœ‰ä¸ç¡®å®šæ€§æ ‡æ³¨ï¼ˆå¦‚ç¨åŠ¡ï¼‰

---

## 4. ç”¨æˆ·ç”»åƒï¼ˆèšç„¦ IT ç¾¤ä½“ï¼‰

* ä¸­å›½å›½ç±ä¸ºä¸»
* æµ·å¤–æˆ–å›½å†…é›‡ä¸»è¿œç¨‹å·¥ä½œ
* æ”¶å…¥ä¸­é«˜ä½†åˆè§„æ„è¯†è¾ƒå¼º
* å¯¹ç¨åŠ¡/èº«ä»½é£é™©é«˜åº¦æ•æ„Ÿ
* æœ‰ä¸€å®šé•¿æœŸå±…ç•™æˆ–å®¶åº­è§„åˆ’

---

## 5. äº§å“æµç¨‹

```text
è¿›å…¥é¡µé¢
  â†“
å¡«å†™é—®å·ï¼ˆ3â€“5 åˆ†é’Ÿï¼‰
  â†“
ç³»ç»ŸåŸºäºæœ¬åœ°æ•°æ®é›†ç­›é€‰ + è¯„åˆ†
  â†“
æ¨èå›½å®¶åˆ—è¡¨ï¼ˆå«åŸå›  + é£é™© + æ¥æºï¼‰
  â†“
å¯å¯¹æ¯” / ä¿å­˜ / è·³è½¬å®˜æ–¹æ¥æº
```

---

## 6. é—®å·è®¾è®¡ï¼ˆæœ€ç»ˆç‰ˆï¼‰

### A. èº«ä»½ä¸åœç•™è®¡åˆ’

1. å›½ç±ï¼ˆå¿…å¡«ï¼‰
2. æ˜¯å¦æºå¸¦å®¶å±ï¼ˆé…å¶ / å­å¥³ï¼‰
3. è®¡åˆ’æ¯å¹´åœ¨ç›®æ ‡å›½åœç•™æ—¶é—´

   * <90 å¤©
   * 90â€“183 å¤©
   * > 183 å¤©
   * ä¸ç¡®å®š

### B. å·¥ä½œä¸æ”¶å…¥ï¼ˆIT å‘ï¼‰

4. å·¥ä½œå½¢æ€ï¼ˆå•é€‰ï¼‰

   * æµ·å¤–å…¬å¸è¿œç¨‹é›‡å‘˜
   * å›½å†…å…¬å¸è¿œç¨‹é›‡å‘˜
   * è‡ªç”±èŒä¸šï¼ˆå¤šå®¢æˆ·ï¼‰
   * è‡ªæœ‰å…¬å¸ï¼ˆè‚¡ä¸œ/ç»è¥ï¼‰
5. æœˆæ”¶å…¥åŒºé—´ï¼ˆåŒºé—´é€‰æ‹©ï¼‰
6. æ”¶å…¥æ˜¯å¦ç¨³å®šï¼ˆç¨³å®š / æ³¢åŠ¨ï¼‰

### C. åˆè§„èƒ½åŠ›

7. æ˜¯å¦å¯æä¾›ä»¥ä¸‹ææ–™ï¼ˆå¤šé€‰ï¼‰

   * é›‡ä½£åˆåŒ / å®¢æˆ·åˆåŒ
   * è¿‘ 3â€“6 ä¸ªæœˆé“¶è¡Œæµæ°´
   * æ— çŠ¯ç½ªè®°å½•
   * å­¦å†æˆ–å·¥ä½œç»éªŒè¯æ˜
8. æ˜¯å¦å¯è´­ä¹°ç§äººåŒ»ç–—ä¿é™©
9. æ˜¯å¦æ¥å—ã€Œä¸å¾—ä¸ºå½“åœ°å…¬å¸/å®¢æˆ·å·¥ä½œã€

### D. åå¥½ä¸è§„åˆ’

10. æ˜¯å¦å¸Œæœ›æœªæ¥è½¬é•¿æœŸå±…ç•™ / æ°¸å±…
11. ç”Ÿæ´»æˆæœ¬åå¥½ï¼ˆä½ / ä¸­ / ä¸æ•æ„Ÿï¼‰
12. è¯­è¨€ç¯å¢ƒï¼ˆè‹±è¯­ä¼˜å…ˆ / å¯å­¦å½“åœ°è¯­è¨€ï¼‰
13. æ—¶åŒºåå¥½ï¼ˆäºšæ´² / æ¬§ç¾ / æ— æ‰€è°“ï¼‰
14. ç½‘ç»œä¸åŸºç¡€è®¾æ–½è¦æ±‚ï¼ˆé«˜ / ä¸­ï¼‰

---

## 7. æ¨èé€»è¾‘è®¾è®¡ï¼ˆå®Œæ•´ç‰ˆï¼‰

> æœ¬èŠ‚å®šä¹‰äº†ä»"ç”¨æˆ·é—®å·å›ç­”"åˆ°"æ¨èå›½å®¶æ’åº"çš„å®Œæ•´è®¡ç®—æµç¨‹ã€‚
> æ‰€æœ‰åˆ¤æ–­ä»…ä¾èµ–æœ¬åœ°æ”¿ç­–æ•°æ®é›†ï¼ˆ`data.md` / `policy-data/`ï¼‰ï¼Œä¸åšä»»ä½•å®æ—¶æŸ¥è¯¢ã€‚

---

### 7.0 å‰ç½®ï¼šå›½å®¶æ”¿ç­–æ•°æ®å­—æ®µå®šä¹‰

æ¯ä¸ªå›½å®¶åœ¨æœ¬åœ°æ•°æ®é›†ä¸­ï¼Œéœ€å…·å¤‡ä»¥ä¸‹ç»“æ„åŒ–å­—æ®µä¾›æ¨èå¼•æ“æ¶ˆè´¹ï¼š

```yaml
country_id: "spain"
name: "è¥¿ç­ç‰™ ğŸ‡ªğŸ‡¸"
visa_name: "å›½é™…è¿œç¨‹å·¥ä½œç­¾è¯"

# ---- ç¡¬æ€§é—¨æ§› ----
min_income:
  amount: 2762
  currency: "EUR"
  period: "monthly"                     # monthly | yearly
  family_surcharge:
    spouse_pct: 0                       # è¥¿ç­ç‰™æ— æ˜ç¡®é…å¶åŠ ç®—
    child_pct: 0
allowed_work_types:                     # å…è®¸çš„å·¥ä½œå½¢æ€
  - "overseas_remote_employee"          # æµ·å¤–å…¬å¸è¿œç¨‹é›‡å‘˜
  - "freelancer"                        # è‡ªç”±èŒä¸šï¼ˆå¤šå®¢æˆ·ï¼‰
local_work_prohibited: true             # æ˜¯å¦ç¦æ­¢ä¸ºå½“åœ°å…¬å¸å·¥ä½œ
family_allowed: true                    # æ˜¯å¦æ”¯æŒå®¶å±éšè¡Œ
insurance_required: false               # æ˜¯å¦å¼ºåˆ¶è¦æ±‚ç§äººåŒ»ç–—ä¿é™©
education_required: false               # æ˜¯å¦å¼ºåˆ¶è¦æ±‚å­¦å†
min_experience_years: 0                 # æœ€ä½å·¥ä½œç»éªŒå¹´é™
required_documents:                     # å¿…é¡»æä¾›çš„ææ–™
  - "employment_contract"               # é›‡ä½£åˆåŒ/å®¢æˆ·åˆåŒ
  - "bank_statement"                    # é“¶è¡Œæµæ°´
  - "criminal_record"                   # æ— çŠ¯ç½ªè®°å½•

# ---- è¯„åˆ†ç”¨å­—æ®µ ----
max_stay_months: 60                     # å¯å±…ç•™æ€»æœˆæ•°ï¼ˆé¦–ç­¾+ç»­ç­¾æœ€å¤§å€¼ï¼‰
initial_term_months: 36                 # é¦–æ¬¡å±…ç•™è®¸å¯æœŸé™
renewable: true                         # æ˜¯å¦å¯ç»­ç­¾
path_to_pr: true                        # æ˜¯å¦æœ‰æ˜ç¡®æ°¸å±…è·¯å¾„
years_to_pr: 5                          # å‡ å¹´å¯ç”³è¯·æ°¸å±…

tax_policy:
  type: "special_regime"                # zero | special_regime | exempt | no_benefit
  foreign_income_exempt: true           # å¢ƒå¤–æ”¶å…¥æ˜¯å¦å…ç¨
  local_rate_pct: 24                    # å¢ƒå†…æ”¶å…¥é€‚ç”¨ç¨ç‡ï¼ˆå¦‚æœ‰ä¼˜æƒ ï¼‰
  benefit_duration_years: 6             # ç¨æƒ æŒç»­å¹´æ•°
  clarity: "high"                       # high | medium | lowï¼ˆè§„åˆ™æ¸…æ™°åº¦ï¼‰

cost_of_living:
  level: "medium"                       # low | medium | high
  index_vs_nyc: 45                      # ä»¥çº½çº¦=100 çš„ç›¸å¯¹æŒ‡æ•°

language_env:
  english_friendly: "medium"            # high | medium | low
  primary_language: "Spanish"

timezone: "Europe"                      # Asia | Europe | MiddleEast
infrastructure:
  internet_quality: "high"              # high | medium | low
  coworking_availability: "high"

public_healthcare: true                 # æ˜¯å¦å¯åŠ å…¥å…¬ç«‹åŒ»ç–—
public_education: true                  # å­å¥³æ˜¯å¦å¯å…¥å…¬ç«‹å­¦æ ¡

last_verified_at: "2026-01-15"
```

> 10 ä¸ªå›½å®¶å‡éœ€æŒ‰æ­¤ç»“æ„å½•å…¥ã€‚ä»¥ä¸‹æ‰€æœ‰é€»è¾‘å¼•ç”¨è¿™äº›å­—æ®µã€‚

---

### 7.1 è¾“å…¥æ ‡å‡†åŒ–

å°†ç”¨æˆ· 14 é“é—®å·çš„å›ç­”æ ‡å‡†åŒ–ä¸ºå¼•æ“å¯æ¶ˆè´¹çš„å˜é‡ï¼š

```text
user = {
  nationality:            string        # Q1  å›½ç±
  has_spouse:             bool          # Q2  æ˜¯å¦æºå¸¦é…å¶
  num_children:           int           # Q2  å­å¥³äººæ•°
  planned_stay:           enum          # Q3  "<90d" | "90-183d" | ">183d" | "uncertain"

  work_type:              enum          # Q4  "overseas_remote_employee"
                                        #     "domestic_remote_employee"
                                        #     "freelancer"
                                        #     "company_owner"
  monthly_income_usd:     number        # Q5  ç»Ÿä¸€è½¬æ¢ä¸º USD/æœˆ
  income_stable:          bool          # Q6  æ”¶å…¥æ˜¯å¦ç¨³å®š

  docs_available: [                     # Q7  å¤šé€‰
    "employment_contract",
    "bank_statement",
    "criminal_record",
    "education_or_experience"
  ]
  can_buy_insurance:      bool          # Q8
  accept_no_local_work:   bool          # Q9

  want_long_term:         bool          # Q10 æ˜¯å¦å¸Œæœ›è½¬æ°¸å±…
  cost_preference:        enum          # Q11 "low" | "medium" | "insensitive"
  language_preference:    enum          # Q12 "english_priority" | "can_learn"
  timezone_preference:    enum          # Q13 "asia" | "europe" | "any"
  infra_requirement:      enum          # Q14 "high" | "medium"
}
```

**æ”¶å…¥ç»Ÿä¸€æ¢ç®—è§„åˆ™ï¼ˆè¿è¡Œæ—¶ä½¿ç”¨å›ºå®šæ±‡ç‡è¡¨ï¼‰ï¼š**

```text
EUR_TO_USD = 1.08
THB_TO_USD = 0.028
MYR_TO_USD = 0.22
KRW_TO_USD = 0.00074
# â€¦æŒ‰éœ€æ‰©å±•ï¼Œæ±‡ç‡è¡¨éšæ•°æ®é›†ä¸€èµ·ç»´æŠ¤ï¼Œä¸å®æ—¶æŸ¥
```

è‹¥å›½å®¶æ”¶å…¥è¦æ±‚ä¸ºå¹´åº¦ï¼Œåˆ™ `min_monthly = min_yearly / 12`ã€‚

---

### 7.2 ç¡¬æ€§ç­›é€‰ï¼ˆHard Filterï¼‰

å¯¹ 10 ä¸ªå›½å®¶é€ä¸€æ‰§è¡Œä»¥ä¸‹æ£€æŸ¥ã€‚**ä»»ä¸€æ¡å‘½ä¸­ â†’ `EXCLUDED`ï¼ˆç›´æ¥æ’é™¤ï¼‰ã€‚**

```text
for each country in countries:
    excluded = false
    reasons = []

    # ---- F1: æ”¶å…¥é—¨æ§› ----
    required = country.min_income.to_usd_monthly()
    if user.has_spouse:
        required += required * country.min_income.family_surcharge.spouse_pct
    required += required * country.min_income.family_surcharge.child_pct * user.num_children

    if user.monthly_income_usd < required:
        excluded = true
        reasons.push("æ”¶å…¥ä¸æ»¡è¶³æœ€ä½è¦æ±‚ï¼ˆéœ€ ${required}/æœˆï¼Œä½ çš„æ”¶å…¥ ${user.monthly_income_usd}/æœˆï¼‰")

    # ---- F2: å·¥ä½œå½¢æ€ ----
    if user.work_type NOT IN country.allowed_work_types:
        excluded = true
        reasons.push("è¯¥å›½ç­¾è¯ä¸æ¥å—ã€Œ${user.work_type}ã€å·¥ä½œå½¢æ€")

    # ç‰¹æ®Šå¤„ç†ï¼šå›½å†…å…¬å¸è¿œç¨‹é›‡å‘˜ â†’ å¤šæ•°å›½å®¶è¦æ±‚"å¢ƒå¤–é›‡ä¸»"
    # "domestic_remote_employee" ä»…åœ¨å…è®¸åˆ—è¡¨æ˜ç¡®åŒ…å«æ—¶æ‰é€šè¿‡

    # ---- F3: æœ¬åœ°å·¥ä½œé™åˆ¶ ----
    if country.local_work_prohibited AND NOT user.accept_no_local_work:
        excluded = true
        reasons.push("è¯¥å›½ç¦æ­¢ä¸ºå½“åœ°å…¬å¸/å®¢æˆ·å·¥ä½œï¼Œä½†ä½ æ— æ³•æ¥å—æ­¤é™åˆ¶")

    # ---- F4: åŒ»ç–—ä¿é™© ----
    if country.insurance_required AND NOT user.can_buy_insurance:
        excluded = true
        reasons.push("è¯¥å›½ç­¾è¯å¼ºåˆ¶è¦æ±‚ç§äººåŒ»ç–—ä¿é™©ï¼Œä½†ä½ æ— æ³•è´­ä¹°")

    # ---- F5: å…³é”®ææ–™ç¼ºå¤±ï¼ˆæ’é™¤çº§ï¼‰----
    missing_critical = country.required_documents - user.docs_available
    # æ— çŠ¯ç½ªè®°å½•å’Œé“¶è¡Œæµæ°´ä¸ºæ‰€æœ‰å›½å®¶å¿…éœ€
    if "criminal_record" IN missing_critical OR "bank_statement" IN missing_critical:
        excluded = true
        reasons.push("ç¼ºå°‘å…³é”®ç”³è¯·ææ–™ï¼š${missing_critical}")

    # ---- F6: å­¦å†/ç»éªŒç¡¬æ€§é—¨æ§›ï¼ˆä»…æ„å¤§åˆ©ã€æ³°å›½ã€éŸ©å›½ç­‰ï¼‰----
    if country.education_required:
        if "education_or_experience" NOT IN user.docs_available:
            excluded = true
            reasons.push("è¯¥å›½è¦æ±‚å­¦å†æˆ–å·¥ä½œç»éªŒè¯æ˜ï¼Œä½†ä½ æ— æ³•æä¾›")

    if country.min_experience_years > 0:
        if "education_or_experience" NOT IN user.docs_available:
            excluded = true
            reasons.push("è¯¥å›½è¦æ±‚è‡³å°‘ ${country.min_experience_years} å¹´å·¥ä½œç»éªŒè¯æ˜")
```

**ç¡¬ç­›ç»“æœï¼š**

| çŠ¶æ€ | å«ä¹‰ |
|------|------|
| `EXCLUDED` | ç›´æ¥æ’é™¤ï¼Œä¸è¿›å…¥è¯„åˆ†ï¼›ç»“æœé¡µä»å±•ç¤ºä½†ç°æ˜¾ï¼Œé™„ã€Œä¸ç¬¦åˆåŸå› ã€ |
| `PASSED` | è¿›å…¥è½¯æ€§è¯„åˆ†é˜¶æ®µ |

---

### 7.3 è½¯æ€§è¯„åˆ†ï¼ˆSoft Scoreï¼‰

é€šè¿‡ç¡¬ç­›çš„å›½å®¶è¿›å…¥è¯„åˆ†ã€‚æ€»åˆ† **100 åˆ†**ï¼Œç”± 5 ä¸ªç»´åº¦åŠ æƒæ±‚å’Œã€‚

---

#### ç»´åº¦ Aï¼šå¯è¡Œæ€§ï¼ˆFeasibilityï¼‰â€” æ»¡åˆ† 40 åˆ†

è¡¡é‡"ç”¨æˆ·ç”³è¯·è¯¥å›½ç­¾è¯çš„å®é™…å¯æ“ä½œæ€§"ã€‚

```text
score_feasibility(user, country):
    s = 0

    # A1. æ”¶å…¥ä½™é‡ (0â€“15 åˆ†)
    # æ”¶å…¥è¶…å‡ºé—¨æ§›è¶Šå¤šï¼Œè¶Šä»å®¹
    ratio = user.monthly_income_usd / required_income_usd
    if   ratio >= 3.0:  s += 15    # è¿œè¶…é—¨æ§›
    elif ratio >= 2.0:  s += 12
    elif ratio >= 1.5:  s += 9
    elif ratio >= 1.2:  s += 6
    elif ratio >= 1.0:  s += 3     # åˆšå¥½è¿‡çº¿
    # <1.0 å·²è¢«ç¡¬ç­›æ’é™¤

    # A2. ææ–™é½å¤‡åº¦ (0â€“10 åˆ†)
    total_required = len(country.required_documents)
    user_has = len(country.required_documents âˆ© user.docs_available)
    s += round(10 * user_has / total_required)

    # A3. å·¥ä½œå½¢æ€åŒ¹é…åº¦ (0â€“10 åˆ†)
    if user.work_type == "overseas_remote_employee":
        s += 10   # æ‰€æœ‰å›½å®¶çš„é¦–é€‰å½¢æ€
    elif user.work_type == "freelancer":
        s += 8    # å¤šæ•°å›½å®¶æ¥å—ï¼Œå°‘æ•°æœ‰é¢å¤–è¦æ±‚
    elif user.work_type == "company_owner":
        s += 5    # éƒ¨åˆ†å›½å®¶æ¥å—ä½†éœ€é¢å¤–è¯æ˜
    elif user.work_type == "domestic_remote_employee":
        s += 2    # æå°‘æ•°å›½å®¶æ¥å—

    # A4. æ”¶å…¥ç¨³å®šæ€§ (0â€“5 åˆ†)
    if user.income_stable:
        s += 5
    else:
        s += 2    # æ³¢åŠ¨æ”¶å…¥éƒ¨åˆ†å›½å®¶å¯èƒ½æœ‰ç»­ç­¾é£é™©

    return s  # max 40
```

---

#### ç»´åº¦ Bï¼šå±…ç•™ç¨³å®šæ€§ï¼ˆStabilityï¼‰â€” æ»¡åˆ† 20 åˆ†

è¡¡é‡"ç­¾è¯çš„æ—¶é—´å®‰å…¨æ„Ÿ"ã€‚

```text
score_stability(user, country):
    s = 0

    # B1. æœ€é•¿å¯å±…ç•™æ—¶é—´ (0â€“10 åˆ†)
    months = country.max_stay_months
    if   months >= 120: s += 10   # 10å¹´ï¼ˆæ³°å›½LTRï¼‰
    elif months >= 60:  s += 8    # 5å¹´ï¼ˆè¥¿ç­ç‰™ã€è‘¡è„ç‰™ã€å°å°¼ï¼‰
    elif months >= 36:  s += 6    # 3å¹´ï¼ˆå¸Œè…Šã€å…‹ç½—åœ°äºšæ–°æ”¿ï¼‰
    elif months >= 24:  s += 4    # 2å¹´ï¼ˆé©¬æ¥è¥¿äºšã€éŸ©å›½ï¼‰
    elif months >= 12:  s += 2    # 1å¹´ï¼ˆè¿ªæ‹œï¼‰

    # B2. é¦–æ¬¡ç­¾è¯æœŸé™ (0â€“5 åˆ†)
    init = country.initial_term_months
    if   init >= 60:  s += 5      # 5å¹´ä¸€ç­¾
    elif init >= 36:  s += 4      # 3å¹´ä¸€ç­¾
    elif init >= 24:  s += 3
    elif init >= 12:  s += 2
    else:             s += 1

    # B3. ç»­ç­¾ä¾¿åˆ©æ€§ (0â€“5 åˆ†)
    if country.renewable:
        s += 3
        # å¦‚æœç»­ç­¾ä¸éœ€è¦ä¸­æ–­ç¦»å¢ƒ
        if country.max_stay_months > country.initial_term_months:
            s += 2  # å¯ä»¥ç›´æ¥ç»­ç­¾ä¸æ–­æ¡£
    else:
        s += 0

    return s  # max 20
```

---

#### ç»´åº¦ Cï¼šé•¿æœŸæ½œåŠ›ï¼ˆLong-term Potentialï¼‰â€” æ»¡åˆ† 15 åˆ†

è¡¡é‡"æ˜¯å¦èƒ½èµ°å‘æ°¸å±…/å…¥ç±"ã€‚

```text
score_longterm(user, country):
    s = 0

    # ä»…å½“ç”¨æˆ·å¸Œæœ›é•¿æœŸå±…ç•™æ—¶ï¼Œæ­¤ç»´åº¦æœ‰æ„ä¹‰
    if NOT user.want_long_term:
        # ä¸å…³å¿ƒé•¿æœŸ â†’ æ‰€æœ‰å›½å®¶ç»™åŸºå‡†åˆ† 7 åˆ†ï¼ˆä¸­æ€§ï¼‰
        return 7

    # C1. æ˜¯å¦æœ‰æ°¸å±…è·¯å¾„ (0â€“8 åˆ†)
    if country.path_to_pr:
        s += 8
    else:
        s += 0    # è¿ªæ‹œã€æ³°å›½ã€é©¬æ¥è¥¿äºšã€å°å°¼ã€éŸ©å›½

    # C2. æ°¸å±…æ‰€éœ€å¹´é™ (0â€“4 åˆ†)
    if country.path_to_pr:
        years = country.years_to_pr
        if   years <= 3: s += 4
        elif years <= 5: s += 3   # è¥¿ã€è‘¡ã€æ„ã€å¸Œã€å…‹
        elif years <= 7: s += 2
        else:            s += 1

    # C3. å®¶å±æ˜¯å¦åŒäº«æ°¸å±…è·¯å¾„ (0â€“3 åˆ†)
    if country.path_to_pr AND country.family_allowed:
        s += 3
    elif country.family_allowed:
        s += 1

    return s  # max 15
```

---

#### ç»´åº¦ Dï¼šç¨åŠ¡å‹å¥½åº¦ï¼ˆTax Frictionï¼‰â€” æ»¡åˆ† 15 åˆ†

è¡¡é‡"è¿œç¨‹æ”¶å…¥çš„ç¨åŠ¡è´Ÿæ‹…"ã€‚

```text
score_tax(user, country):
    s = 0
    tax = country.tax_policy

    # D1. å¢ƒå¤–æ”¶å…¥å…ç¨ç¨‹åº¦ (0â€“8 åˆ†)
    if tax.type == "zero":                        # è¿ªæ‹œï¼šå®Œå…¨æ— ä¸ªç¨
        s += 8
    elif tax.type == "exempt":                    # å…‹ç½—åœ°äºšã€æ³°å›½ã€é©¬æ¥è¥¿äºšã€å°å°¼
        s += 7
    elif tax.type == "special_regime":
        # è¥¿ç­ç‰™(24%+å¢ƒå¤–å…)ã€è‘¡è„ç‰™(20%+éƒ¨åˆ†å…)
        # æ„å¤§åˆ©(70%å…)ã€å¸Œè…Š(50%å‡)
        effective_rate = estimate_effective_rate(tax)
        if   effective_rate <= 10: s += 6
        elif effective_rate <= 20: s += 5
        elif effective_rate <= 30: s += 4
        else:                      s += 2
    elif tax.type == "no_benefit":                # éŸ©å›½
        s += 0

    # D2. ç¨æƒ æŒç»­æ—¶é—´ (0â€“4 åˆ†)
    dur = tax.benefit_duration_years
    if tax.type == "zero":     s += 4             # æ°¸ä¹…é›¶ç¨
    elif tax.type == "exempt": s += 4             # å±…ç•™æœŸé—´å…¨ç¨‹å…
    elif dur >= 10:            s += 4             # è‘¡è„ç‰™ NHR 10å¹´
    elif dur >= 7:             s += 3             # å¸Œè…Š 7å¹´
    elif dur >= 5:             s += 2             # è¥¿ç­ç‰™ 5â€“6å¹´ï¼Œæ„å¤§åˆ© 5å¹´
    elif dur > 0:              s += 1
    else:                      s += 0

    # D3. è§„åˆ™æ¸…æ™°åº¦ (0â€“3 åˆ†)
    if   tax.clarity == "high":   s += 3
    elif tax.clarity == "medium": s += 2
    elif tax.clarity == "low":    s += 1

    return s  # max 15
```

**è¾…åŠ©å‡½æ•° `estimate_effective_rate`ï¼š**

```text
# æ ¹æ®å„å›½ç¨æƒ è®¡ç®—å¢ƒå¤–æ”¶å…¥çš„å®é™…ç­‰æ•ˆç¨ç‡
# è‹¥ foreign_income_exempt = trueï¼Œåˆ™å¢ƒå¤–æ”¶å…¥å®é™…ç¨ç‡ = 0
# è‹¥æœ‰éƒ¨åˆ†å‡å…ï¼ŒæŒ‰å‡å…æ¯”ä¾‹æŠ˜ç®—
estimate_effective_rate(tax):
    if tax.foreign_income_exempt:
        return 0
    else:
        return tax.local_rate_pct * (1 - tax.exemption_pct)
```

---

#### ç»´åº¦ Eï¼šç”Ÿæ´»é€‚é…åº¦ï¼ˆLifestyle Fitï¼‰â€” æ»¡åˆ† 10 åˆ†

è¡¡é‡"æ—¥å¸¸ç”Ÿæ´»èˆ’é€‚åº¦ä¸ç”¨æˆ·åå¥½çš„åŒ¹é…"ã€‚

```text
score_lifestyle(user, country):
    s = 0

    # E1. ç”Ÿæ´»æˆæœ¬åŒ¹é… (0â€“3 åˆ†)
    match user.cost_preference:
        "low":
            if   country.cost_of_living.level == "low":    s += 3
            elif country.cost_of_living.level == "medium": s += 1
            else:                                          s += 0
        "medium":
            if   country.cost_of_living.level == "low":    s += 2
            elif country.cost_of_living.level == "medium": s += 3
            else:                                          s += 1
        "insensitive":
            s += 2  # ä¸æ•æ„Ÿâ†’ä¸­æ€§åˆ†

    # E2. è¯­è¨€/è‹±è¯­ç¯å¢ƒ (0â€“3 åˆ†)
    if user.language_preference == "english_priority":
        if   country.language_env.english_friendly == "high":   s += 3
        elif country.language_env.english_friendly == "medium": s += 1
        else:                                                   s += 0
    elif user.language_preference == "can_learn":
        s += 2  # æ„¿æ„å­¦å½“åœ°è¯­è¨€â†’æ‰€æœ‰å›½å®¶å¯æ¥å—

    # E3. æ—¶åŒºåå¥½ (0â€“2 åˆ†)
    match user.timezone_preference:
        "any":     s += 1
        "asia":
            if   country.timezone == "Asia":       s += 2
            elif country.timezone == "MiddleEast": s += 1
            else:                                  s += 0
        "europe":
            if   country.timezone == "Europe":     s += 2
            elif country.timezone == "MiddleEast": s += 1
            else:                                  s += 0

    # E4. åŸºç¡€è®¾æ–½éœ€æ±‚ (0â€“2 åˆ†)
    if user.infra_requirement == "high":
        if   country.infrastructure.internet_quality == "high":   s += 2
        elif country.infrastructure.internet_quality == "medium": s += 1
        else:                                                     s += 0
    elif user.infra_requirement == "medium":
        if country.infrastructure.internet_quality != "low":      s += 2
        else:                                                     s += 1

    return s  # max 10
```

---

### 7.4 åŠ åˆ†/é™æƒä¿®æ­£ï¼ˆModifiersï¼‰

åœ¨ 5 ç»´åº¦åŸºç¡€å¾—åˆ†ä¹‹ä¸Šï¼Œå åŠ ä»¥ä¸‹æƒ…å¢ƒä¿®æ­£ï¼š

```text
apply_modifiers(user, country, base_score):
    final = base_score

    # ---- M1: å®¶åº­åœºæ™¯åŠ åˆ† ----
    if user.has_spouse OR user.num_children > 0:
        if country.family_allowed:
            if country.public_education:   final += 3  # å­å¥³å¯å…¥å…¬ç«‹å­¦æ ¡
            if country.public_healthcare:  final += 2  # å…¨å®¶å¯äº«å…¬åŒ»
        else:
            final -= 5  # ä¸æ”¯æŒå®¶å±éšè¡Œ â†’ é‡å¤§æ‰£åˆ†

    # ---- M2: åœç•™æ—¶é•¿ Ã— ç¨åŠ¡å±…æ°‘é£é™© ----
    if user.planned_stay == ">183d":
        if tax.type == "zero":
            final += 2       # é›¶ç¨å›½å®¶æ— å½±å“
        elif tax.type == "exempt":
            final += 1       # å¢ƒå¤–æ”¶å…¥å…ç¨å›½å®¶å½±å“æœ‰é™
        elif tax.type == "no_benefit":
            final -= 5       # éŸ©å›½ç­‰æ— ä¼˜æƒ å›½å®¶ï¼Œé•¿å±… = é«˜ç¨é£é™©
        # special_regime å·²åœ¨ D ç»´åº¦ä¸­è®¡å…¥

    if user.planned_stay == "<90d":
        if country.max_stay_months >= 60:
            final -= 2       # é•¿æœŸç­¾è¯ä¼˜åŠ¿å¯¹çŸ­åœè€…æ— æ„ä¹‰

    # ---- M3: ä¸­å›½ç±ç‰¹æ®Šäº²å’Œåº¦ ----
    if user.nationality == "CN":
        if country_id == "malaysia":    final += 3  # åäººç¤¾åŒºã€ä¸­æ–‡æœåŠ¡ã€æ–‡åŒ–äº²è¿‘
        if country_id == "thailand":    final += 1  # åäººç¤¾åŒºè¾ƒå¤š
        if country_id == "south_korea": final += 1  # åœ°ç†è¿‘ã€æ–‡åŒ–ç†Ÿæ‚‰åº¦

    # ---- M4: æ•°æ®è¿‡æœŸé™æƒ ----
    days_since = days_between(today(), country.last_verified_at)
    if   days_since > 180: final -= 10; flag("âš ï¸ æ•°æ®å¯èƒ½å·²è¿‡æœŸ")
    elif days_since > 90:  final -= 5;  flag("â„¹ï¸ æ”¿ç­–å¯èƒ½å·²æ›´æ–°")

    return max(final, 0)  # æœ€ä½ 0 åˆ†
```

---

### 7.5 æ€»åˆ†è®¡ç®—ä¸æ’åº

```text
recommend(user):

    results = []

    for each country in all_countries:

        # â”€â”€ Step 1: ç¡¬ç­› â”€â”€
        filter_result = hard_filter(user, country)
        if filter_result.excluded:
            results.push({
                country:  country,
                status:   "EXCLUDED",
                reasons:  filter_result.reasons,
                score:    null
            })
            continue

        # â”€â”€ Step 2: äº”ç»´åº¦è¯„åˆ† â”€â”€
        s_A = score_feasibility(user, country)     # /40
        s_B = score_stability(user, country)       # /20
        s_C = score_longterm(user, country)        # /15
        s_D = score_tax(user, country)             # /15
        s_E = score_lifestyle(user, country)       # /10
        base_score = s_A + s_B + s_C + s_D + s_E  # /100

        # â”€â”€ Step 3: ä¿®æ­£ â”€â”€
        final_score = apply_modifiers(user, country, base_score)

        # â”€â”€ Step 4: æ±‡æ€» â”€â”€
        results.push({
            country:  country,
            status:   "RECOMMENDED",
            score:    final_score,
            breakdown: { feasibility: s_A, stability: s_B,
                         longterm: s_C, tax: s_D, lifestyle: s_E },
            highlights: generate_highlights(user, country),
            risks:      generate_risks(user, country)
        })

    # â”€â”€ Step 5: æ’åº â”€â”€
    recommended = results
        .filter(r => r.status == "RECOMMENDED")
        .sort_by(r => r.score, DESC)

    # â”€â”€ Step 6: åˆ†çº§ â”€â”€
    for r in recommended:
        if   r.score >= 75: r.tier = "â­ å¼ºçƒˆæ¨è"
        elif r.score >= 55: r.tier = "ğŸ‘ å€¼å¾—è€ƒè™‘"
        elif r.score >= 35: r.tier = "â„¹ï¸ å¯ä½œå¤‡é€‰"
        else:               r.tier = "âš ï¸ åŒ¹é…åº¦è¾ƒä½"

    return {
        recommended: recommended,
        excluded: results.filter(r => r.status == "EXCLUDED")
    }
```

---

### 7.6 ç»“æœè§£é‡Šç”Ÿæˆï¼ˆHighlights & Risksï¼‰

æ¯ä¸ªæ¨èå›½å®¶éœ€ç”Ÿæˆ **3 æ¡ã€Œä¸ºä»€ä¹ˆé€‚åˆä½ ã€** å’Œ **3 æ¡ã€Œä¸»è¦é™åˆ¶/é£é™©ã€**ï¼Œæ¯æ¡å¿…é¡»å¼•ç”¨å…·ä½“æ•°æ®å­—æ®µå’Œæ¥æºã€‚

```text
generate_highlights(user, country):
    pool = []

    # æŒ‰å¾—åˆ†æœ€é«˜çš„ç»´åº¦ä¼˜å…ˆé€‰å–
    if s_D > 10:
        pool.push({
            text: "å¢ƒå¤–æ”¶å…¥${tax_description}ï¼Œç¨åŠ¡è´Ÿæ‹…${tax_level}",
            field: "tax_policy", source: country.tax_policy.source_id
        })

    if s_B > 14:
        pool.push({
            text: "æœ€é•¿å¯å±…ç•™ ${country.max_stay_months/12} å¹´ï¼Œç­¾è¯ç¨³å®š",
            field: "max_stay_months", source: country.visa.source_id
        })

    if (user.has_spouse OR user.num_children > 0) AND country.public_education:
        pool.push({
            text: "å­å¥³å¯å…è´¹å…¥è¯»å…¬ç«‹å­¦æ ¡ï¼Œå®¶å±å¯éšè¡Œäº«å—å±…ç•™æƒç›Š",
            field: "public_education + family_allowed",
            source: country.education.source_id
        })

    if s_A > 30:
        pool.push({
            text: "ä½ çš„æ”¶å…¥ä¸ºé—¨æ§›çš„ ${ratio}å€ï¼Œç”³è¯·ä½™é‡å……è£•",
            field: "min_income", source: country.income.source_id
        })

    if country.cost_of_living.level == user.cost_preference:
        pool.push({
            text: "ç”Ÿæ´»æˆæœ¬${cost_desc}ï¼Œç¬¦åˆä½ çš„é¢„ç®—åå¥½",
            field: "cost_of_living", source: country.cost.source_id
        })

    if country.path_to_pr AND user.want_long_term:
        pool.push({
            text: "å±…ç•™æ»¡ ${country.years_to_pr} å¹´å¯è½¬æ°¸å±…ï¼Œé•¿æœŸè§„åˆ’å‹å¥½",
            field: "path_to_pr", source: country.pr.source_id
        })

    if country.language_env.english_friendly == "high"
       AND user.language_preference == "english_priority":
        pool.push({
            text: "è‹±è¯­ä¸ºé€šç”¨è¯­è¨€ä¹‹ä¸€ï¼Œæ—¥å¸¸ç”Ÿæ´»äº¤æµæ— éšœç¢",
            field: "language_env", source: country.language.source_id
        })

    return pool.sort_by(contribution_score, DESC).top(3)


generate_risks(user, country):
    pool = []

    if user.planned_stay == ">183d" AND country.tax_policy.type == "no_benefit":
        pool.push({
            text: "åœç•™è¶… 183 å¤©å°†è§¦å‘ç¨åŠ¡å±…æ°‘èº«ä»½ï¼Œéœ€æŒ‰å½“åœ°ç¨ç‡ç¼´å…¨çƒæ”¶å…¥ç¨",
            field: "tax_policy", severity: "high"
        })

    if NOT country.path_to_pr AND user.want_long_term:
        pool.push({
            text: "æ•°å­—æ¸¸æ°‘ç­¾è¯ä¸ç›´æ¥é€šå¾€æ°¸å±…ï¼Œé•¿æœŸéœ€å¦å¯»è·¯å¾„",
            field: "path_to_pr", severity: "medium"
        })

    if country.insurance_required:
        pool.push({
            text: "ç­¾è¯å¼ºåˆ¶è¦æ±‚ç§äººåŒ»ç–—ä¿é™©ï¼Œéœ€æŒç»­ç¼´è´¹ä¸”ä¿é¢å¯èƒ½æœ‰é—¨æ§›è¦æ±‚",
            field: "insurance_required", severity: "low"
        })

    if country.language_env.english_friendly == "low":
        pool.push({
            text: "æ—¥å¸¸ä»¥${country.language_env.primary_language}ä¸ºä¸»ï¼Œè‹±è¯­æœåŠ¡æœ‰é™",
            field: "language_env", severity: "medium"
        })

    if NOT country.public_healthcare AND (user.has_spouse OR user.num_children > 0):
        pool.push({
            text: "æ— æ³•åŠ å…¥å…¬ç«‹åŒ»ç–—ä½“ç³»ï¼Œå®¶åº­åŒ»ç–—è´¹ç”¨éœ€å…¨é¢è‡ªä»˜",
            field: "public_healthcare", severity: "medium"
        })

    days_since = days_between(today(), country.last_verified_at)
    if days_since > 90:
        pool.push({
            text: "æ•°æ®æ ¡éªŒäº ${country.last_verified_at}ï¼Œæ”¿ç­–å¯èƒ½å·²æ›´æ–°",
            field: "last_verified_at", severity: "medium"
        })

    return pool.sort_by(severity, DESC).top(3)
```

---

### 7.7 å®Œæ•´å†³ç­–æµç¨‹å›¾

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ç”¨æˆ·å¡«å†™ 14 é¢˜é—®å·            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        è¾“å…¥æ ‡å‡†åŒ–ï¼ˆ7.1ï¼‰              â”‚
â”‚  Â· æ”¶å…¥ç»Ÿä¸€è½¬ USD/æœˆ                 â”‚
â”‚  Â· å·¥ä½œå½¢æ€æ˜ å°„ä¸ºæšä¸¾                 â”‚
â”‚  Â· æ–‡æ¡£æ¸…å•â†’é›†åˆ                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     å¯¹ 10 ä¸ªå›½å®¶é€ä¸€ç¡¬æ€§ç­›é€‰ï¼ˆ7.2ï¼‰    â”‚
â”‚                                     â”‚
â”‚  F1 æ”¶å…¥ â‰¥ é—¨æ§›ï¼Ÿ                    â”‚
â”‚  F2 å·¥ä½œå½¢æ€åŒ¹é…ï¼Ÿ                    â”‚
â”‚  F3 æ¥å—æœ¬åœ°å·¥ä½œé™åˆ¶ï¼Ÿ                â”‚
â”‚  F4 èƒ½ä¹°åŒ»ç–—ä¿é™©ï¼Ÿ                    â”‚
â”‚  F5 å…³é”®ææ–™é½å…¨ï¼Ÿ                    â”‚
â”‚  F6 å­¦å†/ç»éªŒæ»¡è¶³ï¼Ÿ                   â”‚
â”‚                                     â”‚
â”‚  ä»»ä¸€å¤±è´¥ â†’ EXCLUDEDï¼ˆé™„åŸå› ï¼‰        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚ PASSED       â”‚ EXCLUDED
        â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  äº”ç»´åº¦è¯„åˆ†    â”‚ â”‚ ç°æ˜¾+ä¸ç¬¦åŸå›      â”‚
â”‚  ï¼ˆ7.3ï¼‰      â”‚ â”‚ ä»åœ¨ç»“æœé¡µå±•ç¤º     â”‚
â”‚               â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ A å¯è¡Œæ€§ /40  â”‚
â”‚ B ç¨³å®šæ€§ /20  â”‚
â”‚ C é•¿æœŸæ½œåŠ›/15 â”‚
â”‚ D ç¨åŠ¡   /15  â”‚
â”‚ E ç”Ÿæ´»é€‚é…/10 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ä¿®æ­£é¡¹å åŠ ï¼ˆ7.4ï¼‰             â”‚
â”‚  M1 å®¶åº­åŠ åˆ†/æ‰£åˆ†                    â”‚
â”‚  M2 åœç•™æ—¶é—´ Ã— ç¨åŠ¡é£é™©              â”‚
â”‚  M3 ä¸­å›½ç±äº²å’Œåº¦                     â”‚
â”‚  M4 æ•°æ®è¿‡æœŸé™æƒ                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         æ’åº + åˆ†çº§ï¼ˆ7.5ï¼‰            â”‚
â”‚  â‰¥75  â­ å¼ºçƒˆæ¨è                    â”‚
â”‚  â‰¥55  ğŸ‘ å€¼å¾—è€ƒè™‘                    â”‚
â”‚  â‰¥35  â„¹ï¸  å¯ä½œå¤‡é€‰                   â”‚
â”‚  <35  âš ï¸  åŒ¹é…åº¦è¾ƒä½                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       ç»“æœé¡µè¾“å‡ºï¼ˆ7.6 + ç¬¬9èŠ‚ï¼‰       â”‚
â”‚  æ¯å›½ï¼šè¯„åˆ† + 3æ¡é€‚åˆ + 3æ¡é£é™©       â”‚
â”‚  æ¯æ¡å¼•ç”¨å­—æ®µ + æ¥æº                  â”‚
â”‚  åº•éƒ¨ï¼šå…è´£å£°æ˜                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 7.8 å›½å®¶å‚æ•°é€ŸæŸ¥è¡¨ï¼ˆåŸºäº data.mdï¼‰

ä»¥ä¸‹æ˜¯ 10 ä¸ªå›½å®¶çš„å…³é”®å‚æ•°å¿«é€Ÿå¯¹ç…§ï¼Œç”¨äºå¼•æ“åˆå§‹åŒ–ï¼š

| å›½å®¶ | `min_income` (USD/æœˆ) | `work_types` | `max_stay` | `path_to_pr` | `tax_type` | `cost` | `english` | `timezone` |
|------|----------------------|-------------|------------|-------------|------------|--------|-----------|-----------|
| è¥¿ç­ç‰™ ğŸ‡ªğŸ‡¸ | ~$2,983 | employee, freelancer | 60æœˆ | âœ… 5å¹´ | special (24%) | medium | medium | Europe |
| è‘¡è„ç‰™ ğŸ‡µğŸ‡¹ | ~$3,283 | employee, freelancer | 60æœˆ | âœ… 5å¹´ | special (20%) | medium | high | Europe |
| æ„å¤§åˆ© ğŸ‡®ğŸ‡¹ | ~$2,520 | employee, freelancer | 60æœˆ | âœ… 5å¹´ | special (70%å…) | medium | low | Europe |
| å¸Œè…Š ğŸ‡¬ğŸ‡· | ~$3,780 | employee, freelancer | 36æœˆ | éƒ¨åˆ† 5å¹´ | special (50%å‡) | low | high | Europe |
| å…‹ç½—åœ°äºš ğŸ‡­ğŸ‡· | ~$3,558 | employee, freelancer | 36æœˆ | æœ‰é™ | exempt (0%) | low | high | Europe |
| è¿ªæ‹œ ğŸ‡¦ğŸ‡ª | $5,000 | employee, owner | 12æœˆ | âŒ | zero (0%) | high | high | MiddleEast |
| æ³°å›½ ğŸ‡¹ğŸ‡­ | ~$6,667 | employee | 120æœˆ | âŒ | exempt (0%) | low | medium | Asia |
| é©¬æ¥è¥¿äºš ğŸ‡²ğŸ‡¾ | $2,000 (IT) | employee, freelancer | 24æœˆ | âŒ | exempt (0%) | low | high | Asia |
| å°å°¼ ğŸ‡®ğŸ‡© | $5,000 | employee, freelancer | 60æœˆ | âŒ | exempt (0%) | low | medium | Asia |
| éŸ©å›½ ğŸ‡°ğŸ‡· | ~$5,500 | employee | 24æœˆ | âŒ | no_benefit | high | low | Asia |

---

### 7.9 ç¤ºä¾‹æ¨æ¼”

**ç¤ºä¾‹ç”¨æˆ·ç”»åƒï¼š**

> ä¸­å›½ç±ï¼Œæœˆæ”¶å…¥ $6,000 USDï¼Œæµ·å¤–å…¬å¸è¿œç¨‹é›‡å‘˜ï¼Œå•èº«æ— å®¶å±ï¼Œ
> è®¡åˆ’åœç•™ >183 å¤©ï¼Œå¸Œæœ›è½¬æ°¸å±…ï¼Œåå¥½ä½ç”Ÿæ´»æˆæœ¬ + è‹±è¯­ä¼˜å…ˆ + äºšæ´²æ—¶åŒºï¼Œ
> ææ–™é½å…¨ï¼Œå¯ä¹°ä¿é™©ï¼Œæ¥å—ä¸ä¸ºå½“åœ°å·¥ä½œã€‚

**ç¡¬ç­›ç»“æœï¼š**

| å›½å®¶ | ç»“æœ | åŸå›  |
|------|------|------|
| è¥¿ç­ç‰™ | âœ… PASSED | æ”¶å…¥ $6,000 > $2,983 |
| è‘¡è„ç‰™ | âœ… PASSED | æ”¶å…¥ $6,000 > $3,283 |
| æ„å¤§åˆ© | âœ… PASSED | æ”¶å…¥ $6,000 > $2,520 |
| å¸Œè…Š | âœ… PASSED | æ”¶å…¥ $6,000 > $3,780 |
| å…‹ç½—åœ°äºš | âœ… PASSED | æ”¶å…¥ $6,000 > $3,558 |
| è¿ªæ‹œ | âœ… PASSED | æ”¶å…¥ $6,000 > $5,000 |
| æ³°å›½ | âŒ EXCLUDED | æ”¶å…¥ $6,000 < $6,667ï¼ˆéœ€ $80k/å¹´ï¼‰ |
| é©¬æ¥è¥¿äºš | âœ… PASSED | æ”¶å…¥ $6,000 > $2,000 (IT) |
| å°å°¼ | âœ… PASSED | æ”¶å…¥ $6,000 > $5,000 |
| éŸ©å›½ | âœ… PASSED | æ”¶å…¥ $6,000 > $5,500 |

**è¯„åˆ†æ¦‚ç®—ï¼ˆç®€åŒ–ï¼‰ï¼š**

| å›½å®¶ | A å¯è¡Œæ€§ | B ç¨³å®šæ€§ | C é•¿æœŸ | D ç¨åŠ¡ | E ç”Ÿæ´» | ä¿®æ­£ | æ€»åˆ† | åˆ†çº§ |
|------|---------|---------|-------|-------|-------|------|------|------|
| é©¬æ¥è¥¿äºš | 35 | 4 | 0 | 15 | 10 | +3(CN) | **67** | ğŸ‘ å€¼å¾—è€ƒè™‘ |
| è‘¡è„ç‰™ | 28 | 17 | 14 | 11 | 4 | 0 | **74** | ğŸ‘ å€¼å¾—è€ƒè™‘ |
| è¥¿ç­ç‰™ | 30 | 17 | 14 | 10 | 3 | 0 | **74** | ğŸ‘ å€¼å¾—è€ƒè™‘ |
| æ„å¤§åˆ© | 32 | 15 | 14 | 10 | 2 | 0 | **73** | ğŸ‘ å€¼å¾—è€ƒè™‘ |
| å…‹ç½—åœ°äºš | 26 | 11 | 5 | 14 | 7 | 0 | **63** | ğŸ‘ å€¼å¾—è€ƒè™‘ |
| å¸Œè…Š | 24 | 11 | 8 | 12 | 7 | 0 | **62** | ğŸ‘ å€¼å¾—è€ƒè™‘ |
| å°å°¼ | 20 | 15 | 0 | 14 | 7 | 0 | **56** | ğŸ‘ å€¼å¾—è€ƒè™‘ |
| è¿ªæ‹œ | 18 | 2 | 0 | 15 | 5 | 0 | **40** | â„¹ï¸ å¯ä½œå¤‡é€‰ |
| éŸ©å›½ | 16 | 4 | 0 | 1 | 5 | -5(é•¿å±…é«˜ç¨)+1(CN) | **22** | âš ï¸ åŒ¹é…åº¦è¾ƒä½ |

> æ³¨ï¼šä»¥ä¸Šåˆ†æ•°ä¸ºæ¼”ç¤ºæ€§æ¦‚ç®—ï¼Œå®é™…å®ç°ä¸­éœ€ä¸¥æ ¼æŒ‰ 7.3 å„å­é¡¹å…¬å¼è®¡ç®—ã€‚

---

## 8. å›½å®¶æ”¿ç­–æ•°æ®ï¼ˆå‰ç½®èµ„äº§ï¼‰

### 8.1 æ•°æ®å­˜å‚¨æ–¹å¼

* **å¿…é¡»æœ¬åœ°å­˜å‚¨**
* åˆæœŸé‡‡ç”¨ JSON / YAML æ–‡ä»¶
* æŒ‰å›½å®¶åˆ†ç›®å½•

```text
/policy-data
  /spain
    visa.json
    tax.json
    sources.json
  /portugal
  /thailand
```

---

### 8.2 å­—æ®µçº§ç»“æ„ï¼ˆç¤ºä¾‹ï¼‰

```json
{
  "field": "min_income_requirement",
  "value": {
    "amount": 3500,
    "currency": "EUR",
    "period": "monthly"
  },
  "applies_to": ["remote_employee", "freelancer"],
  "last_verified_at": "2026-01-12",
  "source_id": "GR-IMM-2025-01"
}
```

---

### 8.3 æ¥æºè¡¨ï¼ˆå¼ºåˆ¶ï¼‰

```json
{
  "source_id": "GR-IMM-2025-01",
  "title": "Greek Digital Nomad Visa Requirements",
  "publisher": "Greek Ministry of Migration",
  "url": "https://...",
  "type": "official",
  "quote": "Applicants must demonstrate a minimum monthly income of â‚¬3,500.",
  "retrieved_at": "2026-01-12"
}
```

---

## 9. ç»“æœé¡µè¾“å‡ºè§„èŒƒï¼ˆé˜²æ­¢äº‹å®é”™è¯¯ï¼‰

### 9.1 æ¯ä¸ªå›½å®¶å¡ç‰‡å¿…é¡»åŒ…å«

* å›½å®¶ + ç­¾è¯åç§°
* é€‚é…åº¦è¯„åˆ†
* âœ… **3 æ¡ã€Œä¸ºä»€ä¹ˆé€‚åˆä½ ã€**ï¼ˆæ¯æ¡éƒ½å¼•ç”¨å­—æ®µ + æ¥æºï¼‰
* âš ï¸ **3 æ¡ã€Œä¸»è¦é™åˆ¶ / é£é™©ã€**
* ğŸ“ æ•°æ®æ ¡éªŒæ—¶é—´

### 9.2 ç¦æ­¢çš„æ–‡æ¡ˆ

* âŒ "ä½ ä¸€å®šä¸ç”¨äº¤ç¨"
* âŒ "è¿™ä¸ªå›½å®¶æœ€é€‚åˆä¸­å›½äºº"
* âŒ "åŸºæœ¬ç¨³è¿‡"

### 9.3 å¼ºåˆ¶å…è´£å£°æ˜

> æœ¬é¡µé¢åŸºäºå…¬å¼€æ”¿ç­–ä¿¡æ¯æ•´ç†ï¼Œä¸æ„æˆæ³•å¾‹æˆ–ç¨åŠ¡å»ºè®®ã€‚
> ç­¾è¯åŠç¨åŠ¡è§„åˆ™å¯èƒ½æ›´æ–°ï¼Œè¯·åœ¨ç”³è¯·å‰æ ¸å®å®˜æ–¹ä¿¡æ¯ã€‚

---

## 10. æ•°æ®è¿‡æœŸä¸é£æ§æœºåˆ¶

* `last_verified_at > 90 å¤©`

  * æ¨èè¯„åˆ†è‡ªåŠ¨é™æƒ
  * UI æ ‡æ³¨ã€Œæ”¿ç­–å¯èƒ½å·²æ›´æ–°ã€
* å…³é”®å­—æ®µç¼ºå¤±

  * ä¸å±•ç¤ºæ•°å€¼
  * æ˜ç¤º"ä¸ç¡®å®š"

---

## 11. éåŠŸèƒ½æ€§è¦æ±‚

* æ‰€æœ‰æ”¿ç­–äº‹å® **100% æ¥è‡ªæœ¬åœ°æ•°æ®**
* æ¨èå¼•æ“ä¸å¯ç›´æ¥è®¿é—®äº’è”ç½‘
* æ¯æ¡ç»“è®ºéƒ½èƒ½ç‚¹å¼€ã€ŒæŸ¥çœ‹æ¥æºã€

---

## 12. æˆåŠŸæŒ‡æ ‡ï¼ˆä¸æ˜¯è½¬åŒ–ï¼‰

* æ¨èç»“æœé¡µå®Œæˆç‡
* æ¥æºç‚¹å‡»ç‡ï¼ˆè¯´æ˜ç”¨æˆ·åœ¨"æ ¸éªŒ"ï¼‰
* "ä¿¡æ¯ä¸å‡†ç¡®"åé¦ˆç‡ï¼ˆè¶Šä½è¶Šå¥½ï¼‰
* ç”¨æˆ·ä¿å­˜/å¯¹æ¯”å›½å®¶æ¬¡æ•°

---

## 13. ä¸€å¥è¯äº§å“å®šä½ï¼ˆå¯ç›´æ¥å†™åœ¨ PRD å¼€å¤´ï¼‰

> **è¿™æ˜¯ä¸€ä¸ª"æ”¿ç­–å¯æ ¸éªŒçš„å†³ç­–è¾…åŠ©å·¥å…·"ï¼Œ
> è€Œä¸æ˜¯ä¸€ä¸ª"æ›¿ç”¨æˆ·åšå†³å®šçš„ç§»æ°‘æ¨èå™¨"ã€‚**
